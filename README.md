# AutoGLM For Android

<div align="center">
<img src="screenshots/logo.svg" width="120"/>

**åŸºäº Open-AutoGLM çš„ Android åŸç”Ÿæ‰‹æœºæ™ºèƒ½åŠ©æ‰‹åº”ç”¨**

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Android](https://img.shields.io/badge/Android-7.0%2B-green.svg)](https://developer.android.com)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9-purple.svg)](https://kotlinlang.org)

ä¸­æ–‡ | [English](README_en.md)

</div>

## ğŸ“¸ åº”ç”¨æˆªå›¾

<div align="center">
<img src="screenshots/main_screen.jpg" width="200"/>
<img src="screenshots/settings.jpg" width="200"/>
<img src="screenshots/settings1.jpg" width="200"/>
</div>

<div align="center">
<img src="screenshots/history.jpg" width="200"/>
<img src="screenshots/history1.jpg" width="200"/>
<img src="screenshots/floating_window.jpg" width="200"/>
</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

AutoGLM For Android æ˜¯åŸºäº [Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM) å¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘çš„ Android åŸç”Ÿåº”ç”¨ã€‚å®ƒå°†åŸæœ¬éœ€è¦ç”µè„‘ + ADB è¿æ¥çš„æ‰‹æœºè‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œè½¬å˜ä¸ºä¸€ä¸ªç‹¬ç«‹è¿è¡Œåœ¨æ‰‹æœºä¸Šçš„ Appï¼Œè®©ç”¨æˆ·å¯ä»¥ç›´æ¥åœ¨æ‰‹æœºä¸Šä½¿ç”¨è‡ªç„¶è¯­è¨€æ§åˆ¶æ‰‹æœºå®Œæˆå„ç§ä»»åŠ¡ã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**
- ğŸš€ **æ— éœ€ç”µè„‘**ï¼šç›´æ¥åœ¨æ‰‹æœºä¸Šè¿è¡Œï¼Œæ— éœ€ ADB è¿æ¥
- ğŸ¯ **è‡ªç„¶è¯­è¨€æ§åˆ¶**ï¼šç”¨è‡ªç„¶è¯­è¨€æè¿°ä»»åŠ¡ï¼ŒAI è‡ªåŠ¨æ‰§è¡Œ
- ğŸ”’ **Shizuku æƒé™**ï¼šé€šè¿‡ Shizuku è·å–å¿…è¦çš„ç³»ç»Ÿæƒé™
- ğŸªŸ **æ‚¬æµ®çª—äº¤äº’**ï¼šæ‚¬æµ®çª—å®æ—¶æ˜¾ç¤ºä»»åŠ¡æ‰§è¡Œè¿›åº¦
- ğŸ“± **åŸç”Ÿä½“éªŒ**ï¼šMaterial Design è®¾è®¡ï¼Œæµç•…çš„åŸç”Ÿ Android ä½“éªŒ
- ğŸ”Œ **å¤šæ¨¡å‹æ”¯æŒ**ï¼šå…¼å®¹ä»»ä½•æ”¯æŒ OpenAI æ ¼å¼å’Œå›¾ç‰‡ç†è§£çš„æ¨¡å‹ API

## ğŸ—ï¸ æ¶æ„å¯¹æ¯”

| ç‰¹æ€§ | Open-AutoGLM (åŸç‰ˆ) | AutoGLM For Android (æœ¬é¡¹ç›®) |
|------|---------------------|------------------------------|
| è¿è¡Œç¯å¢ƒ | ç”µè„‘ (Python) | æ‰‹æœº (Android App) |
| è®¾å¤‡è¿æ¥ | éœ€è¦ ADB/USB è¿æ¥ | æ— éœ€è¿æ¥ï¼Œç‹¬ç«‹è¿è¡Œ |
| æƒé™è·å– | ADB shell å‘½ä»¤ | Shizuku æœåŠ¡ |
| æ–‡æœ¬è¾“å…¥ | ADB Keyboard | å†…ç½® AutoGLM Keyboard |
| ç”¨æˆ·ç•Œé¢ | å‘½ä»¤è¡Œ | åŸç”Ÿ Android UI + æ‚¬æµ®çª— |
| æˆªå›¾æ–¹å¼ | ADB screencap | Shizuku shell å‘½ä»¤ |

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **ä»»åŠ¡æ‰§è¡Œ**ï¼šè¾“å…¥è‡ªç„¶è¯­è¨€ä»»åŠ¡æè¿°ï¼ŒAI è‡ªåŠ¨è§„åˆ’å¹¶æ‰§è¡Œ
- âœ… **å±å¹•ç†è§£**ï¼šæˆªå›¾ â†’ è§†è§‰æ¨¡å‹åˆ†æ â†’ è¾“å‡ºæ“ä½œæŒ‡ä»¤
- âœ… **å¤šç§æ“ä½œ**ï¼šç‚¹å‡»ã€æ»‘åŠ¨ã€é•¿æŒ‰ã€åŒå‡»ã€è¾“å…¥æ–‡æœ¬ã€å¯åŠ¨åº”ç”¨ç­‰
- âœ… **ä»»åŠ¡æ§åˆ¶**ï¼šæš‚åœã€ç»§ç»­ã€å–æ¶ˆä»»åŠ¡æ‰§è¡Œ
- âœ… **å†å²è®°å½•**ï¼šä¿å­˜ä»»åŠ¡æ‰§è¡Œå†å²ï¼Œæ”¯æŒæŸ¥çœ‹è¯¦æƒ…å’Œæˆªå›¾

### ç”¨æˆ·ç•Œé¢
- âœ… **ä¸»ç•Œé¢**ï¼šä»»åŠ¡è¾“å…¥ã€çŠ¶æ€æ˜¾ç¤ºã€å¿«æ·æ“ä½œ
- âœ… **æ‚¬æµ®çª—**ï¼šå®æ—¶æ˜¾ç¤ºæ‰§è¡Œæ­¥éª¤ã€æ€è€ƒè¿‡ç¨‹ã€æ“ä½œç»“æœ
- âœ… **è®¾ç½®é¡µé¢**ï¼šæ¨¡å‹é…ç½®ã€Agent å‚æ•°ã€å¤šé…ç½®ç®¡ç†
- âœ… **å†å²é¡µé¢**ï¼šä»»åŠ¡å†å²åˆ—è¡¨ã€è¯¦æƒ…æŸ¥çœ‹ã€æˆªå›¾æ ‡æ³¨

### é«˜çº§åŠŸèƒ½
- âœ… **å¤šæ¨¡å‹é…ç½®**ï¼šæ”¯æŒä¿å­˜å¤šä¸ªæ¨¡å‹é…ç½®ï¼Œå¿«é€Ÿåˆ‡æ¢
- âœ… **ä»»åŠ¡æ¨¡æ¿**ï¼šä¿å­˜å¸¸ç”¨ä»»åŠ¡ï¼Œä¸€é”®æ‰§è¡Œ
- âœ… **è‡ªå®šä¹‰ Prompt**ï¼šæ”¯æŒè‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯
- âœ… **å¿«æ·ç£è´´**ï¼šé€šçŸ¥æ å¿«æ·ç£è´´ï¼Œå¿«é€Ÿæ‰“å¼€æ‚¬æµ®çª—

## ğŸ“± ç³»ç»Ÿè¦æ±‚

- **Android ç‰ˆæœ¬**ï¼šAndroid 7.0 (API 24) åŠä»¥ä¸Š
- **å¿…éœ€åº”ç”¨**ï¼š[Shizuku](https://shizuku.rikka.app/) (ç”¨äºè·å–ç³»ç»Ÿæƒé™)
- **ç½‘ç»œè¿æ¥**ï¼šéœ€è¦è¿æ¥åˆ°æ¨¡å‹ API æœåŠ¡ï¼ˆæ”¯æŒä»»ä½• OpenAI æ ¼å¼å…¼å®¹çš„è§†è§‰æ¨¡å‹ï¼‰
- **æƒé™è¦æ±‚**ï¼š
  - æ‚¬æµ®çª—æƒé™ (ç”¨äºæ˜¾ç¤ºæ‚¬æµ®çª—)
  - ç½‘ç»œæƒé™ (ç”¨äº API é€šä¿¡)
  - Shizuku æƒé™ (ç”¨äºæ‰§è¡Œç³»ç»Ÿæ“ä½œ)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… Shizuku

Shizuku æ˜¯ä¸€ä¸ªè®©æ™®é€šåº”ç”¨ä½¿ç”¨ç³»ç»Ÿ API çš„å·¥å…·ï¼Œæœ¬åº”ç”¨ä¾èµ–å®ƒæ¥æ‰§è¡Œå±å¹•æ“ä½œã€‚

1. ä» [Google Play](https://play.google.com/store/apps/details?id=moe.shizuku.privileged.api) æˆ– [GitHub](https://github.com/RikkaApps/Shizuku/releases) ä¸‹è½½å®‰è£… Shizuku
2. å¯åŠ¨ Shizuku å¹¶æŒ‰ç…§æŒ‡å¼•æ¿€æ´»æœåŠ¡ï¼š
   - **æ— çº¿è°ƒè¯•æ–¹å¼** (æ¨è)ï¼šå¼€å¯å¼€å‘è€…é€‰é¡¹ â†’ æ— çº¿è°ƒè¯• â†’ é…å¯¹è®¾å¤‡
   - **ADB æ–¹å¼**ï¼šè¿æ¥ç”µè„‘æ‰§è¡Œ `adb shell sh /storage/emulated/0/Android/data/moe.shizuku.privileged.api/start.sh`
   - **Root æ–¹å¼**ï¼šå¦‚æœè®¾å¤‡å·² Rootï¼Œç›´æ¥æˆæƒå³å¯

### 2. å®‰è£… AutoGLM For Android

1. ä» [Releases](https://github.com/Luokavin/AutoGLM-For-Android/releases) ä¸‹è½½æœ€æ–° APK
2. å®‰è£… APK å¹¶æ‰“å¼€åº”ç”¨
3. æˆäºˆ Shizuku æƒé™ï¼ˆç‚¹å‡»"è¯·æ±‚æƒé™"æŒ‰é’®ï¼‰
4. æˆäºˆæ‚¬æµ®çª—æƒé™ï¼ˆç‚¹å‡»"æˆäºˆæƒé™"æŒ‰é’®ï¼‰
5. å¯ç”¨ AutoGLM Keyboardï¼ˆç‚¹å‡»"å¯ç”¨é”®ç›˜"æŒ‰é’®ï¼‰

### 3. é…ç½®æ¨¡å‹æœåŠ¡

è¿›å…¥è®¾ç½®é¡µé¢ï¼Œé…ç½®æ¨¡å‹ APIã€‚æœ¬åº”ç”¨ä½¿ç”¨æ ‡å‡†çš„ **OpenAI API æ ¼å¼**ï¼Œæ”¯æŒä»»ä½•å…¼å®¹è¯¥æ ¼å¼ä¸”å…·å¤‡å›¾ç‰‡ç†è§£èƒ½åŠ›çš„æ¨¡å‹ã€‚

**æ¨¡å‹è¦æ±‚**ï¼š
- âœ… å…¼å®¹ OpenAI `/chat/completions` API æ ¼å¼
- âœ… æ”¯æŒå¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡æœ¬ + å›¾ç‰‡ï¼‰
- âœ… èƒ½å¤Ÿç†è§£å±å¹•æˆªå›¾å¹¶è¾“å‡ºæ“ä½œæŒ‡ä»¤

**æ¨èæ¨¡å‹é…ç½®**ï¼š

| æ¨¡å‹æœåŠ¡ | Base URL | Model | è·å– API Key |
|---------|----------|-------|-------------|
| æ™ºè°± BigModel (æ¨è) | `https://open.bigmodel.cn/api/paas/v4` | `autoglm-phone` | [æ™ºè°±å¼€æ”¾å¹³å°](https://open.bigmodel.cn/) |
| ModelScope | `https://api-inference.modelscope.cn/v1` | `ZhipuAI/AutoGLM-Phone-9B` | [ModelScope](https://modelscope.cn/) |

**ä½¿ç”¨å…¶ä»–ç¬¬ä¸‰æ–¹æ¨¡å‹**ï¼š

åªè¦æ¨¡å‹æœåŠ¡æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œå³å¯åœ¨æœ¬åº”ç”¨ä¸­ä½¿ç”¨ï¼š

1. **API æ ¼å¼å…¼å®¹**ï¼šæä¾› OpenAI å…¼å®¹çš„ `/chat/completions` ç«¯ç‚¹
2. **å¤šæ¨¡æ€æ”¯æŒ**ï¼šæ”¯æŒ `image_url` æ ¼å¼çš„å›¾ç‰‡è¾“å…¥
3. **å›¾ç‰‡ç†è§£èƒ½åŠ›**ï¼šèƒ½å¤Ÿåˆ†æå±å¹•æˆªå›¾å¹¶ç†è§£ UI å…ƒç´ 

å¸¸è§çš„å…¼å®¹æœåŠ¡ç¤ºä¾‹ï¼š
- OpenAI GPT-4V / GPT-4oï¼ˆéœ€è¦è‡ªè¡Œé€‚é… promptï¼‰
- Claude 3 ç³»åˆ—ï¼ˆé€šè¿‡å…¼å®¹å±‚ï¼‰
- å…¶ä»–æ”¯æŒ OpenAI æ ¼å¼çš„è§†è§‰æ¨¡å‹ API

> âš ï¸ **æ³¨æ„**ï¼šé AutoGLM æ¨¡å‹å¯èƒ½éœ€è¦è°ƒæ•´ç³»ç»Ÿæç¤ºè¯æ‰èƒ½æ­£ç¡®è¾“å‡ºæ“ä½œæŒ‡ä»¤æ ¼å¼ã€‚å¯åœ¨è®¾ç½® â†’ é«˜çº§è®¾ç½®ä¸­è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯ã€‚

### 4. å¼€å§‹ä½¿ç”¨

1. åœ¨ä¸»ç•Œé¢è¾“å…¥ä»»åŠ¡æè¿°ï¼Œå¦‚ï¼š"æ‰“å¼€å¾®ä¿¡ï¼Œç»™æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹å‘é€æ¶ˆæ¯ï¼šæµ‹è¯•"
2. ç‚¹å‡»"å¼€å§‹ä»»åŠ¡"æŒ‰é’®
3. æ‚¬æµ®çª—ä¼šè‡ªåŠ¨å¼¹å‡ºï¼Œæ˜¾ç¤ºæ‰§è¡Œè¿›åº¦
4. è§‚å¯Ÿ AI çš„æ€è€ƒè¿‡ç¨‹å’Œæ‰§è¡Œæ“ä½œ

## ğŸ“– ä½¿ç”¨æ•™ç¨‹

### åŸºæœ¬æ“ä½œ

**å¯åŠ¨ä»»åŠ¡**ï¼š
1. åœ¨ä¸»ç•Œé¢æˆ–æ‚¬æµ®çª—è¾“å…¥ä»»åŠ¡æè¿°
2. ç‚¹å‡»"å¼€å§‹"æŒ‰é’®
3. åº”ç”¨ä¼šè‡ªåŠ¨æˆªå›¾ã€åˆ†æã€æ‰§è¡Œæ“ä½œ

**æ§åˆ¶ä»»åŠ¡**ï¼š
- **æš‚åœ**ï¼šç‚¹å‡»æ‚¬æµ®çª—çš„æš‚åœæŒ‰é’®ï¼Œä»»åŠ¡ä¼šåœ¨å½“å‰æ­¥éª¤åæš‚åœ
- **ç»§ç»­**ï¼šç‚¹å‡»ç»§ç»­æŒ‰é’®æ¢å¤æ‰§è¡Œ
- **åœæ­¢**ï¼šç‚¹å‡»åœæ­¢æŒ‰é’®å–æ¶ˆä»»åŠ¡

**æŸ¥çœ‹å†å²**ï¼š
1. ç‚¹å‡»ä¸»ç•Œé¢çš„å†å²æŒ‰é’®
2. æŸ¥çœ‹æ‰€æœ‰æ‰§è¡Œè¿‡çš„ä»»åŠ¡
3. ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦ç»†æ­¥éª¤å’Œæˆªå›¾

### ä»»åŠ¡ç¤ºä¾‹

```
# ç¤¾äº¤é€šè®¯
æ‰“å¼€å¾®ä¿¡ï¼Œæœç´¢å¼ ä¸‰å¹¶å‘é€æ¶ˆæ¯ï¼šä½ å¥½

# è´­ç‰©æœç´¢
æ‰“å¼€æ·˜å®ï¼Œæœç´¢æ— çº¿è€³æœºï¼ŒæŒ‰é”€é‡æ’åº

# å¤–å–ç‚¹é¤
æ‰“å¼€ç¾å›¢ï¼Œæœç´¢é™„è¿‘çš„ç«é”…åº—

# å‡ºè¡Œå¯¼èˆª
æ‰“å¼€é«˜å¾·åœ°å›¾ï¼Œå¯¼èˆªåˆ°æœ€è¿‘çš„åœ°é“ç«™

# è§†é¢‘å¨±ä¹
æ‰“å¼€æŠ–éŸ³ï¼Œåˆ·5ä¸ªè§†é¢‘
```

### é«˜çº§åŠŸèƒ½

**ä¿å­˜æ¨¡å‹é…ç½®**ï¼š
1. è¿›å…¥è®¾ç½® â†’ æ¨¡å‹é…ç½®
2. é…ç½®å¥½å‚æ•°åç‚¹å‡»"ä¿å­˜é…ç½®"
3. è¾“å…¥é…ç½®åç§°ä¿å­˜
4. ä¹‹åå¯ä»¥å¿«é€Ÿåˆ‡æ¢ä¸åŒé…ç½®

**åˆ›å»ºä»»åŠ¡æ¨¡æ¿**ï¼š
1. è¿›å…¥è®¾ç½® â†’ ä»»åŠ¡æ¨¡æ¿
2. ç‚¹å‡»"æ·»åŠ æ¨¡æ¿"
3. è¾“å…¥æ¨¡æ¿åç§°å’Œä»»åŠ¡æè¿°
4. åœ¨ä¸»ç•Œé¢ç‚¹å‡»æ¨¡æ¿æŒ‰é’®å¿«é€Ÿé€‰æ‹©

**è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯**ï¼š
1. è¿›å…¥è®¾ç½® â†’ é«˜çº§è®¾ç½®
2. ç¼–è¾‘ç³»ç»Ÿæç¤ºè¯
3. å¯ä»¥æ·»åŠ ç‰¹å®šé¢†åŸŸçš„æŒ‡ä»¤å¢å¼º

## ğŸ› ï¸ å¼€å‘æ•™ç¨‹

### ç¯å¢ƒå‡†å¤‡

**å¼€å‘å·¥å…·**ï¼š
- Android Studio Hedgehog (2023.1.1) æˆ–æ›´é«˜ç‰ˆæœ¬
- JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- Kotlin 1.9.x

**å…‹éš†é¡¹ç›®**ï¼š
```bash
git clone https://github.com/your-repo/AutoGLM-For-Android.git
cd AutoGLM-For-Android
```

**æ‰“å¼€é¡¹ç›®**ï¼š
1. å¯åŠ¨ Android Studio
2. é€‰æ‹© "Open an existing project"
3. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•
4. ç­‰å¾… Gradle åŒæ­¥å®Œæˆ

### é¡¹ç›®ç»“æ„

```
app/src/main/java/com/kevinluo/autoglm/
â”œâ”€â”€ action/                 # åŠ¨ä½œå¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ ActionHandler.kt    # åŠ¨ä½œæ‰§è¡Œå™¨
â”‚   â”œâ”€â”€ ActionParser.kt     # åŠ¨ä½œè§£æå™¨
â”‚   â””â”€â”€ AgentAction.kt      # åŠ¨ä½œæ•°æ®ç±»
â”œâ”€â”€ agent/                  # Agent æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ PhoneAgent.kt       # æ‰‹æœº Agent ä¸»ç±»
â”‚   â””â”€â”€ AgentContext.kt     # å¯¹è¯ä¸Šä¸‹æ–‡ç®¡ç†
â”œâ”€â”€ app/                    # åº”ç”¨åŸºç¡€æ¨¡å—
â”‚   â”œâ”€â”€ AppResolver.kt      # åº”ç”¨åç§°è§£æ
â”‚   â””â”€â”€ AutoGLMApplication.kt
â”œâ”€â”€ config/                 # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ I18n.kt             # å›½é™…åŒ–
â”‚   â””â”€â”€ SystemPrompts.kt    # ç³»ç»Ÿæç¤ºè¯
â”œâ”€â”€ device/                 # è®¾å¤‡æ“ä½œæ¨¡å—
â”‚   â””â”€â”€ DeviceExecutor.kt   # è®¾å¤‡å‘½ä»¤æ‰§è¡Œ
â”œâ”€â”€ history/                # å†å²è®°å½•æ¨¡å—
â”‚   â”œâ”€â”€ HistoryManager.kt   # å†å²ç®¡ç†
â”‚   â””â”€â”€ HistoryActivity.kt  # å†å²ç•Œé¢
â”œâ”€â”€ input/                  # è¾“å…¥æ¨¡å—
â”‚   â”œâ”€â”€ TextInputManager.kt # æ–‡æœ¬è¾“å…¥ç®¡ç†
â”‚   â””â”€â”€ AutoGLMKeyboardService.kt  # å†…ç½®é”®ç›˜
â”œâ”€â”€ model/                  # æ¨¡å‹é€šä¿¡æ¨¡å—
â”‚   â””â”€â”€ ModelClient.kt      # API å®¢æˆ·ç«¯
â”œâ”€â”€ screenshot/             # æˆªå›¾æ¨¡å—
â”‚   â””â”€â”€ ScreenshotService.kt # æˆªå›¾æœåŠ¡
â”œâ”€â”€ settings/               # è®¾ç½®æ¨¡å—
â”‚   â”œâ”€â”€ SettingsManager.kt  # è®¾ç½®ç®¡ç†
â”‚   â””â”€â”€ SettingsActivity.kt # è®¾ç½®ç•Œé¢
â”œâ”€â”€ ui/                     # UI æ¨¡å—
â”‚   â”œâ”€â”€ FloatingWindowService.kt  # æ‚¬æµ®çª—æœåŠ¡
â”‚   â””â”€â”€ MainViewModel.kt    # ä¸»ç•Œé¢ ViewModel
â”œâ”€â”€ util/                   # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ CoordinateConverter.kt    # åæ ‡è½¬æ¢
â”‚   â”œâ”€â”€ HumanizedSwipeGenerator.kt # äººæ€§åŒ–æ»‘åŠ¨
â”‚   â””â”€â”€ Logger.kt           # æ—¥å¿—å·¥å…·
â”œâ”€â”€ ComponentManager.kt     # ç»„ä»¶ç®¡ç†å™¨
â”œâ”€â”€ MainActivity.kt         # ä¸»ç•Œé¢
â””â”€â”€ UserService.kt          # Shizuku ç”¨æˆ·æœåŠ¡
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

**PhoneAgent (agent/PhoneAgent.kt)**
- æ ¸å¿ƒ Agent ç±»ï¼Œè´Ÿè´£ä»»åŠ¡æ‰§è¡Œæµç¨‹
- ç®¡ç†æˆªå›¾ â†’ æ¨¡å‹è¯·æ±‚ â†’ åŠ¨ä½œæ‰§è¡Œçš„å¾ªç¯
- æ”¯æŒæš‚åœã€ç»§ç»­ã€å–æ¶ˆæ“ä½œ

**ModelClient (model/ModelClient.kt)**
- ä¸æ¨¡å‹ API é€šä¿¡
- æ”¯æŒ SSE æµå¼å“åº”
- è§£ææ€è€ƒè¿‡ç¨‹å’ŒåŠ¨ä½œæŒ‡ä»¤

**ActionHandler (action/ActionHandler.kt)**
- æ‰§è¡Œå„ç§è®¾å¤‡æ“ä½œ
- åè°ƒ DeviceExecutorã€TextInputManager ç­‰ç»„ä»¶
- ç®¡ç†æ‚¬æµ®çª—æ˜¾ç¤º/éšè—

**DeviceExecutor (device/DeviceExecutor.kt)**
- é€šè¿‡ Shizuku æ‰§è¡Œ shell å‘½ä»¤
- å®ç°ç‚¹å‡»ã€æ»‘åŠ¨ã€æŒ‰é”®ç­‰æ“ä½œ
- æ”¯æŒäººæ€§åŒ–æ»‘åŠ¨è½¨è¿¹

**ScreenshotService (screenshot/ScreenshotService.kt)**
- æˆªå–å±å¹•å¹¶å‹ç¼©ä¸º WebP
- è‡ªåŠ¨éšè—æ‚¬æµ®çª—é¿å…å¹²æ‰°
- æ”¯æŒæ•æ„Ÿé¡µé¢æ£€æµ‹

### æ„å»ºå’Œè°ƒè¯•

**Debug æ„å»º**ï¼š
```bash
./gradlew assembleDebug
```

**Release æ„å»º**ï¼š
```bash
./gradlew assembleRelease
```

**è¿è¡Œæµ‹è¯•**ï¼š
```bash
./gradlew test
```

**å®‰è£…åˆ°è®¾å¤‡**ï¼š
```bash
./gradlew installDebug
```

### æ·»åŠ æ–°åŠŸèƒ½

**æ·»åŠ æ–°çš„åŠ¨ä½œç±»å‹**ï¼š

1. åœ¨ `AgentAction.kt` æ·»åŠ æ–°çš„åŠ¨ä½œç±»ï¼š
```kotlin
data class NewAction(val param: String) : AgentAction() {
    override fun formatForDisplay(): String = "æ–°åŠ¨ä½œ: $param"
}
```

2. åœ¨ `ActionParser.kt` æ·»åŠ è§£æé€»è¾‘ï¼š
```kotlin
"NewAction" -> parseNewAction(response)
```

3. åœ¨ `ActionHandler.kt` æ·»åŠ æ‰§è¡Œé€»è¾‘ï¼š
```kotlin
is AgentAction.NewAction -> executeNewAction(action)
```

**æ·»åŠ æ–°çš„è®¾ç½®é¡¹**ï¼š

1. åœ¨ `SettingsManager.kt` æ·»åŠ é”®å’Œæ–¹æ³•ï¼š
```kotlin
private const val KEY_NEW_SETTING = "new_setting"

fun getNewSetting(): String = prefs.getString(KEY_NEW_SETTING, "") ?: ""
fun saveNewSetting(value: String) = prefs.edit().putString(KEY_NEW_SETTING, value).apply()
```

2. åœ¨è®¾ç½®ç•Œé¢æ·»åŠ å¯¹åº” UI

## ğŸ”§ å¸¸è§é—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| **Shizuku æ˜¾ç¤ºæœªè¿è¡Œï¼Ÿ** | ç¡®ä¿ Shizuku å·²å®‰è£…å¹¶æ‰“å¼€ï¼ŒæŒ‰æŒ‡å¼•æ¿€æ´»æœåŠ¡ï¼Œæ¨èä½¿ç”¨æ— çº¿è°ƒè¯•æ–¹å¼ |
| **æ¯æ¬¡é‡å¯å Shizuku å¤±æ•ˆï¼Ÿ** | æ— çº¿è°ƒè¯•æ–¹å¼éœ€é‡æ–°é…å¯¹ï¼Œå¯è€ƒè™‘ Root æ–¹å¼æ°¸ä¹…æ¿€æ´»æˆ–è®¾ç½®å¼€æœºè‡ªå¯è„šæœ¬ |
| **æ‚¬æµ®çª—æƒé™æ— æ³•æˆäºˆï¼Ÿ** | ç³»ç»Ÿè®¾ç½® â†’ åº”ç”¨ â†’ AutoGLM â†’ æƒé™ â†’ å¼€å¯"æ˜¾ç¤ºåœ¨å…¶ä»–åº”ç”¨ä¸Šå±‚" |
| **é”®ç›˜æ— æ³•å¯ç”¨ï¼Ÿ** | ç³»ç»Ÿè®¾ç½® â†’ è¯­è¨€å’Œè¾“å…¥æ³• â†’ ç®¡ç†é”®ç›˜ â†’ å¯ç”¨ AutoGLM Keyboard |
| **ç‚¹å‡»æ“ä½œä¸ç”Ÿæ•ˆï¼Ÿ** | æ£€æŸ¥ Shizuku æ˜¯å¦è¿è¡Œï¼Œéƒ¨åˆ†ç³»ç»Ÿéœ€å¼€å¯"USB è°ƒè¯•(å®‰å…¨è®¾ç½®)"ï¼Œå°è¯•é‡å¯ Shizuku |
| **æ–‡æœ¬è¾“å…¥å¤±è´¥ï¼Ÿ** | ç¡®ä¿ AutoGLM Keyboard å·²å¯ç”¨ï¼Œæ£€æŸ¥è¾“å…¥æ¡†æ˜¯å¦è·å¾—ç„¦ç‚¹ |
| **æˆªå›¾æ˜¾ç¤ºé»‘å±ï¼Ÿ** | æ•æ„Ÿé¡µé¢ï¼ˆæ”¯ä»˜ã€å¯†ç ç­‰ï¼‰çš„æ­£å¸¸ä¿æŠ¤ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ ‡è®° |

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

- [Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM) - åŸå§‹å¼€æºé¡¹ç›®
- [Shizuku](https://github.com/RikkaApps/Shizuku) - ç³»ç»Ÿæƒé™æ¡†æ¶
- [æ™ºè°± AI](https://www.zhipuai.cn/) - AutoGLM æ¨¡å‹æä¾›æ–¹

## ğŸ“ è”ç³»æ–¹å¼

- Issues: [GitHub Issues](https://github.com/your-repo/issues)
- Email: luokavin@foxmail.com

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ Starï¼**

</div>
